<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ace - Exam Prep Chatbot</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            height: 90vh;
        }
        
        .header {
            background: linear-gradient(to right, #4b6cb7, #182848);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        
        .api-key-container {
            background-color: #f5f7fb;
            padding: 15px;
            display: flex;
            align-items: center;
            border-bottom: 1px solid #ddd;
        }
        
        .api-key-container input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 14px;
            outline: none;
        }
        
        .api-key-container button {
            background: #4b6cb7;
            color: white;
            border: none;
            border-radius: 25px;
            padding: 12px 20px;
            margin-left: 10px;
            cursor: pointer;
            font-weight: 600;
            transition: background 0.3s;
        }
        
        .api-key-container button:hover {
            background: #3a5999;
        }
        
        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background-color: #f5f7fb;
        }
        
        .message {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
        }
        
        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            line-height: 1.5;
        }
        
        .user-message {
            align-items: flex-end;
        }
        
        .user-message .message-content {
            background-color: #2575fc;
            color: white;
            border-bottom-right-radius: 5px;
        }
        
        .bot-message {
            align-items: flex-start;
        }
        
        .bot-message .message-content {
            background-color: white;
            color: #333;
            border: 1px solid #ddd;
            border-bottom-left-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .input-container {
            padding: 15px;
            background-color: white;
            border-top: 1px solid #ddd;
            display: flex;
        }
        
        .input-container input {
            flex: 1;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 15px;
            outline: none;
        }
        
        .input-container button {
            background: #4b6cb7;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            margin-left: 10px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s;
        }
        
        .input-container button:hover {
            background: #3a5999;
        }
        
        .subject-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            padding: 15px;
            background-color: #f5f7fb;
            border-top: 1px solid #ddd;
        }
        
        .subject-buttons button {
            background: white;
            color: #4b6cb7;
            border: 1px solid #4b6cb7;
            border-radius: 20px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .subject-buttons button:hover {
            background: #4b6cb7;
            color: white;
        }
        
        .typing-indicator {
            display: flex;
            padding: 10px;
            background-color: white;
            border-radius: 20px;
            width: 60px;
            justify-content: center;
            margin-bottom: 10px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            background-color: #999;
            border-radius: 50%;
            margin: 0 3px;
            animation: typing-animation 1.5s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing-animation {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .welcome-message {
            background-color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .welcome-message h2 {
            color: #4b6cb7;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .welcome-message ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .welcome-message li {
            margin-bottom: 8px;
        }
        
        @media (max-width: 768px) {
            .container {
                height: 95vh;
                border-radius: 10px;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .message-content {
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-graduation-cap"></i> Ace - Exam Prep Pal</h1>
            <p>Your personal AI study partner for exam success</p>
        </div>
        
        <div class="api-key-container">
            <input type="password" id="api-key-input" placeholder="Enter your OpenAI API key">
            <button id="save-api-key">Save Key</button>
        </div>
        
        <div class="chat-container" id="chat-container">
            <div class="welcome-message">
                <h2><i class="fas fa-robot"></i> Hello! I'm Ace, your Exam Prep Chatbot</h2>
                <p>My goal is to help you feel confident and prepared for your upcoming exams. I'm not here to just give you answers, but to help you understand the concepts behind them.</p>
                <p>Here's how I can help you:</p>
                <ul>
                    <li><i class="fas fa-brain"></i> <strong>Explain a Concept</strong>: Ask me to explain anything</li>
                    <li><i class="fas fa-question-circle"></i> <strong>Create a Quiz</strong>: Ask for practice questions on a specific topic</li>
                    <li><i class="fas fa-file-alt"></i> <strong>Summarize Information</strong>: Give me a topic for a concise summary</li>
                    <li><i class="fas fa-lightbulb"></i> <strong>Offer Study Tips</strong>: Get effective study strategies</li>
                    <li><i class="fas fa-calculator"></i> <strong>Walk Through Problems</strong>: Step-by-step guidance</li>
                </ul>
                <p>You've got this, and I'm here to help. What subject are we tackling today?</p>
            </div>
        </div>
        
        <div class="subject-buttons">
            <button data-subject="math">Mathematics</button>
            <button data-subject="science">Science</button>
            <button data-subject="history">History</button>
            <button data-subject="english">English</button>
            <button data-subject="programming">Programming</button>
        </div>
        
        <div class="input-container">
            <input type="text" id="user-input" placeholder="Ask a question or request a quiz...">
            <button id="send-button"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const chatContainer = document.getElementById('chat-container');
            const userInput = document.getElementById('user-input');
            const sendButton = document.getElementById('send-button');
            const apiKeyInput = document.getElementById('api-key-input');
            const saveApiKeyButton = document.getElementById('save-api-key');
            const subjectButtons = document.querySelectorAll('.subject-buttons button');
            
            let currentSubject = 'general';
            let apiKey = '';
            
            // Sample responses for demonstration (in a real app, these would come from the API)
            const sampleResponses = {
                math: {
                    "explain pythagorean theorem": "The Pythagorean Theorem is a fundamental principle in geometry that states that in a right-angled triangle, the square of the length of the hypotenuse (the side opposite the right angle) is equal to the sum of the squares of the lengths of the other two sides. The formula is a² + b² = c², where c represents the hypotenuse. Want me to walk through an example problem?",
                    "quiz me on algebra": "Sure! Let's start with a beginner algebra problem:\n\nSolve for x: 3x + 5 = 14\n\nTake your time and let me know your answer when you're ready!",
                    "how to solve quadratic equations": "Quadratic equations are in the form ax² + bx + c = 0. There are several methods to solve them:\n\n1. <strong>Factoring</strong>: Express the equation as a product of two binomials\n2. <strong>Quadratic Formula</strong>: x = [-b ± √(b² - 4ac)] / (2a)\n3. <strong>Completing the Square</strong>: Rewrite the equation in the form (x + p)² = q\n\nWhich method would you like me to explain in detail?"
                },
                science: {
                    "explain photosynthesis": "Photosynthesis is the process by which plants, algae, and some bacteria convert light energy into chemical energy stored in glucose. The overall equation is:\n\n6CO₂ + 6H₂O + light energy → C₆H₁₂O₆ + 6O₂\n\nThis process happens in the chloroplasts and has two main stages: the light-dependent reactions and the Calvin cycle (light-independent reactions). Would you like me to explain either of these in more detail?",
                    "what is newton's first law": "Newton's First Law of Motion, also called the Law of Inertia, states that an object at rest will stay at rest, and an object in motion will stay in motion with the same speed and in the same direction unless acted upon by an unbalanced force. In simple terms, things keep doing what they're already doing unless something interferes! This is why seatbelts are so important in cars - they stop you from continuing to move forward when the car suddenly stops."
                },
                history: {
                    "causes of world war i": "World War I was caused by a complex combination of factors, often summarized by the acronym MAIN:\n\n• <strong>Militarism</strong>: European powers built up massive armies and navies\n• <strong>Alliances</strong>: Complex treaty systems that pulled countries into conflict\n• <strong>Imperialism</strong>: Competition for colonies created tensions\n• <strong>Nationalism</strong: Intense national pride and desire for independence\n\nThe assassination of Archduke Franz Ferdinand of Austria-Hungary in June 1914 was the immediate trigger that started the war.",
                    "quiz me on american revolution": "Great! Let's begin:\n\nQuestion 1: Which of the following acts imposed a tax on all paper documents in the American colonies?\nA) The Quartering Act\nB) The Stamp Act\nC) The Townshend Acts\nD) The Intolerable Acts\n\nTake your time and let me know your answer!"
                }
            };
            
            // Save API key
            saveApiKeyButton.addEventListener('click', function() {
                apiKey = apiKeyInput.value.trim();
                if (apiKey) {
                    addMessage('API key saved successfully!', 'bot');
                    apiKeyInput.type = 'password';
                } else {
                    addMessage('Please enter a valid API key', 'bot');
                }
            });
            
            // Set subject when buttons are clicked
            subjectButtons.forEach(button => {
                button.addEventListener('click', function() {
                    currentSubject = this.getAttribute('data-subject');
                    subjectButtons.forEach(btn => btn.style.background = 'white');
                    subjectButtons.forEach(btn => btn.style.color = '#4b6cb7');
                    this.style.background = '#4b6cb7';
                    this.style.color = 'white';
                    addMessage(`Switched to ${this.textContent} mode. What would you like to explore?`, 'bot');
                });
            });
            
            // Send message when button is clicked
            sendButton.addEventListener('click', sendMessage);
            
            // Send message when Enter is pressed
            userInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            function sendMessage() {
                const message = userInput.value.trim();
                if (message) {
                    addMessage(message, 'user');
                    userInput.value = '';
                    
                    // Show typing indicator
                    const typingIndicator = document.createElement('div');
                    typingIndicator.className = 'message bot-message';
                    typingIndicator.innerHTML = `
                        <div class="typing-indicator">
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                            <div class="typing-dot"></div>
                        </div>
                    `;
                    chatContainer.appendChild(typingIndicator);
                    chatContainer.scrollTop = chatContainer.scrollHeight;
                    
                    // Simulate API response with timeout
                    setTimeout(() => {
                        chatContainer.removeChild(typingIndicator);
                        getBotResponse(message);
                    }, 1500);
                }
            }
            
            function addMessage(text, sender) {
                const messageElement = document.createElement('div');
                messageElement.className = `message ${sender}-message`;
                
                const messageContent = document.createElement('div');
                messageContent.className = 'message-content';
                
                // Format text with line breaks for bot messages
                if (sender === 'bot') {
                    messageContent.innerHTML = formatResponse(text);
                } else {
                    messageContent.textContent = text;
                }
                
                messageElement.appendChild(messageContent);
                chatContainer.appendChild(messageElement);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
            
            function formatResponse(text) {
                // Convert line breaks to HTML
                text = text.replace(/\n/g, '<br>');
                
                // Format lists
                text = text.replace(/• (.*?)(<br>|$)/g, '<li>$1</li>');
                text = text.replace(/<li>.*<\/li>/s, '<ul>$&</ul>');
                
                return text;
            }
            
            function getBotResponse(message) {
                let response = '';
                
                // Check if we have a sample response for this subject and message
                const lowerMessage = message.toLowerCase();
                
                if (sampleResponses[currentSubject] && sampleResponses[currentSubject][lowerMessage]) {
                    response = sampleResponses[currentSubject][lowerMessage];
                } else {
                    // Default responses
                    if (lowerMessage.includes('quiz') || lowerMessage.includes('question')) {
                        response = `I'd be happy to create a quiz for you about ${currentSubject}! What specific topic would you like to be quizzed on?`;
                    } else if (lowerMessage.includes('explain') || lowerMessage.includes('what is') || lowerMessage.includes('define')) {
                        response = `I can explain that ${currentSubject} concept. In simple terms, could you specify which aspect you'd like me to focus on?`;
                    } else if (lowerMessage.includes('thank')) {
                        response = "You're welcome! I'm always here to help with your studies. Is there anything else you'd like to review?";
                    } else {
                        response = "That's an interesting question! As your exam prep pal, I can help explain concepts, create practice questions, or provide study tips. What would you like to focus on?";
                    }
                }
                
                addMessage(response, 'bot');
            }
        });
    </script>
</body>
</html>